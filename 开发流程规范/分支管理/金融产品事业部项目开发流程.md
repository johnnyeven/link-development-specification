# 金融产品事业部项目组开发流程

## 分支命名

### 开发分支

开发分支包含三类，分别为

> 故事分支 `story`
> 特性分支 `feature`
> Bug分支 `bug`

「故事分支」是用于描述 Story 整体功能的分支，由 `master` 分支派生。「故事分支」应该只包含对应 Story 的相关功能，为提测流程中的最小单位。

「特性分支」是由 `story` 分支派生，只针对于 Story 中的一个开发任务，是开发流程中的最小单位。

「Bug分支」是针对已提测的内容出现 bug 需要修复而创建的分支，由 `发布分支` 派生。

以上分支遵循 `[story|feature|bug]/#<jira_id>` 的命名方式

```
story/#3618
feature/#1369
bug/#2312
```

对于 Leader ，每次计划会议结束后，应根据本次排期派生出相应的 story 分支，并且设置为保护分支。对于开发人员，着手开发一个任务应该首先由 story 分支派生 feature 分支，开发完成后提交合并请求至 story 分支。当提测的内容出现 bug 需要修复的时候，开发人员应基于对应 bug 的 story 分支，派生 bug 分支，修复完毕后提交合并请求至 story 分支。

当一个 story 完整的功能已开发完成准备提测时，由 Leader 将 story 分支合并至 release 分支，开发人员需填写提测单，注明本次提测的内容，邮件发送测试负责人并抄送开发负责人。

### 发布分支

发布分支由 `master` 分支派生，命名规范中含有三个参数，以下是参数说明，在各发布场景下均适用以下说明。

1. 产品id
> 指wiki中维护的不同路方及资方的唯一标识

2. 迭代期数
> 指该产品对应开发周期数，首次开发为1，以此类推

3. 发布版本号
> 版本号分为四段 **A.B.C.D**，每段为阿拉伯数字，从0开始计数

#### 一般迭代发布分支

一般迭代发布采用的分支一般以下列方式命名

```
release/normal_<产品id>_<迭代期数>_<发布版本号>
```

#### 重大项目发布分支

重大项目采用的分支一般以下列方式命名

```
release/major_<产品id>_<迭代期数>_<发布版本号>
```

#### 一般修复发布分支

一般修复发布采用的分支一般以下列方式命名

```
hotfix/normal_<产品id>_<迭代期数>_<发布版本号>
```

#### 紧急修复发布分支

紧急修复发布采用的分支一般以下列方式命名

```
hotfix/major_<产品id>_<迭代期数>_<发布版本号>
```

## 版本号

版本号分为四段 **A.B.C.D**，每段为阿拉伯数字，从0开始计数

```
1.12.3.1
```

* “A”为大版本号，系统有体制性的更新的时候+1，例如 Windows8=>Windows10
* “B”为小版本号，小版本号为每次迭代更新时候+1
* “C”为紧急任务发布版本号，紧急任务版本一般是在某次小版本号中进行更新
* “D“为紧急问题发布版本号，紧急问题版本一般是在某次小版本号中进行修改，这些版本都是为了修复一些不能等到下一个小版本或者大版本的问题而生成

